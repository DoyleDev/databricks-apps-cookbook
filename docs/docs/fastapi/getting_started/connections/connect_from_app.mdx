---
sidebar_position: 4
---

# Connect Databricks App to Databricks App

This recipe demonstrates how to connect one Databricks App to another Databricks App.

:::info

This is another type of Machine-to-Machine (M2M) connectivity; Databricks Apps provisions a dedicated Service Principal per application slot which should be used for the purposes of security isolation, authentication, and authorization.

:::


## Code snippet

Under the Databricks Apps runtime, environment variables for `DATABRICKS_HOST`, `DATABRICKS_CLIENT_ID`, and `DATABRICKS_CLIENT_SECRET` are present and associated with the App service principal.

```python
from databricks.sdk import WorkspaceClient
import requests

# DATABRICKS_HOST, DATABRICKS_CLIENT_ID, DATABRICKS_CLIENT_SECRET implicitly present under env
wc = WorkspaceClient() 
headers = wc.config.authenticate() # Contains Bearer Token

response = requests.get(
    "https://your-app-url/api/v1/healthcheck", headers=headers
)
print(response.json())
```

## Permissions

For Databricks App connectivity and authentication, the connecting App [service principal](https://docs.databricks.com/aws/en/dev-tools/databricks-apps/#how-does-databricks-apps-manage-authorization) needs the following permissions:

- `CAN USE` on the target app

## Dependencies

- [Databricks SDK for Python](https://pypi.org/project/databricks-sdk/) - `databricks-sdk`
- [Requests](https://pypi.org/project/requests/) - `requests`


```python title="requirements.txt"
databricks-sdk
requests
``` 